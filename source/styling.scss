 /*
 ~  Copyright (c) 2017 Nicola Fiori (JD342)
 ~
 ~  This file is part of the Arc Integration for Thunderbird, licensed under
 ~  the terms of the GNU General Public License 3.0.
 ~
 */

:root {

    /* color palette */

    --ait-blue: #5294e2;
    --ait-red: #f37076;

    --ait-button-active-text-color: #ffffff;

    --ait-light-window-frame-background-color: #e7e8eb;
    --ait-light-pane-background-color: #f5f6f7;
    --ait-light-pane-border-color: #d2d3d8;
    --ait-light-side-pane-background-color: #fbfbfc;
    --ait-light-content-background-color: #ffffff;
    --ait-light-content-border-color: #dcdfe3;
    --ait-light-input-border-color: #cfd6e6;
    --ait-light-input-placeholder-color: #a7aab0;
    --ait-light-button-active-border-color: #5294e2;
    --ait-light-text-input-icon-color: #7d8189;
    --ait-light-button-background-color: #fbfbfc;
    --ait-light-button-hover-background-color: #ffffff;
    --ait-light-text-color: #5c616c;
    --ait-light-actions-box-background-color: #edeef0;

    --ait-dark-window-frame-background-color: #2f343f;
    --ait-dark-pane-background-color: #383c4a;
    --ait-dark-pane-border-color: #252a33;
    --ait-dark-side-pane-background-color: #3c4150;
    --ait-dark-content-background-color: #404552;
    --ait-dark-content-border-color: #2b2e39;
    --ait-dark-button-active-border-color: #2b2e39;
    --ait-dark-input-border-color: #2b2e39;
    --ait-dark-input-placeholder-color: #8e95a0;
    --ait-dark-text-input-icon-color: #b6bcc6;
    --ait-dark-button-background-color: #444a58;
    --ait-dark-button-hover-background-color: #505666;
    --ait-dark-text-color: #d3dae3;
    --ait-dark-actions-box-background-color: #313541;

    /* dimensions */

    --ait-actions-box-height: 34px;
    --ait-input-border-radius: 3px;
    --ait-input-height: 28px;
    --ait-input-font-size: 14.37px;
    --ait-input-horizontal-padding: 6px;

    --ait-pixel-ratio: 1;

    @media (min-resolution: 2dppx) { --ait-pixel-ratio: 2; }
    @media (min-resolution: 3dppx) { --ait-pixel-ratio: 3; }
    @media (min-resolution: 4dppx) { --ait-pixel-ratio: 4; }

    /* computed values */

    --ait-actions-box-input-margin: calc((var(--ait-actions-box-height) - var(--ait-input-height)) / 2);
    --ait-input-text-vertical-spacing: calc((var(--ait-input-height) - var(--ait-input-font-size)) / 2);

}

$main-win: ':root#messengerWindow';
$addr-book-win: ':root#addressbookWindow';
$event-dialog: ':root#calendar-event-dialog';
$task-dialog: ':root#calendar-task-dialog';

$main-win-calendar-panel: '#{ $main-win }  #calendar-toolbox-container:not([collapsed="true"]) ~ #calendarContent';
$main-win-tasks-panel: '#{ $main-win }  #task-toolbox-container:not([collapsed="true"]) ~ #calendarContent';
$main-win-side-panel: '#{ $main-win } #today-pane-panel';
$main-win-mails-panel: '#{ $main-win } #messengerBox';

@function pref($args...) {
    // pref(foo light)      -> [ait-foo-preference="light"]
    // pref(foo a, baz b)   -> [ait-foo-preference="a"][ait-baz-preference="b"]
    // pref(foo dark light) -> :-moz-any([ait-foo-preference="dark"], [ait-foo-preference="light"])
    // pref(foo a, baz b c) -> [ait-foo-preference="a"]:-moz-any([ait-baz-preference="b"], [ait-baz-preference="c"])
    $result: '';
    @each $arg in $args {
        @if length($arg) < 2 {
            @error 'not enough items in param "#{ $arg }" (args: #{ $args })';
        }
        $name: nth($arg, 1);
        $list: ();
        @for $i from 2 through length($arg) {
            $value: nth($arg, $i);
            $list: append($list, '[ait-#{ $name }-preference="#{ $value }"]');
        }
        $result: $result + if(length($list) == 1, nth($list, 1), ':-moz-any(#{ zip($list) })');
    }
    @return $result;
}

@function main-win($args...)                { @return pref($args...) + $main-win; }
@function task-dialog($args...)             { @return pref($args...) + $task-dialog; }
@function event-dialog($args...)            { @return pref($args...) + $event-dialog; }
@function addr-book-win($args...)           { @return pref($args...) + $addr-book-win; }
@function main-win-side-panel($args...)     { @return pref($args...) + $main-win-side-panel; }
@function main-win-mails-panel($args...)    { @return pref($args...) + $main-win-mails-panel; }
@function main-win-tasks-panel($args...)    { @return pref($args...) + $main-win-tasks-panel; }
@function main-win-calendar-panel($args...) { @return pref($args...) + $main-win-calendar-panel; }

@import 'styles/icon-elements';
@import 'styles/borders';
@import 'styles/frame';
@import 'styles/tabs-and-toolbox-common';
@import 'styles/tabs';
@import 'styles/toolbox';
@import 'styles/toolset-contents';
@import 'styles/toolset-icons';
@import 'styles/textboxes';
@import 'styles/panels-common';
@import 'styles/panel-mails';
@import 'styles/panel-calendar';
@import 'styles/panel-tasks';
@import 'styles/panel-side';
